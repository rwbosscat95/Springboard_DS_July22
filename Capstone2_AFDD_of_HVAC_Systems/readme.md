# Final Report
## Automated Fault Detection and Diagnosis (AFDD) of HVAC Systems

## 1. Problem statement 
The energy consumption in the building sector accounts for approximately 20-40% of the total energy consumption, and heating, ventilation, and air conditioning (HVAC) systems consume approximately 50-60% of the total energy consumed by the buildings. This project will develop a data-driven AFDD scheme for air handling units (AHUs) with the precision of over 80% to detect common faults of HVAC, which will detect faults early that could be repaired to save energy, improve the reliability and thermal comfort of buildings.

The dataset, generated by PNNL, includes the operation data of three types of AHUs for a large office building under the normal conditions and fault conditions. After a variety of exploratory data analysis (EDA) methods, a few machine learning models are compared and KNN model is selected to be an optimized ML model to detect one of faults.

After reducing the dataset from 17 to 12 features, the random forest model was able to achieve an average accuracy of 0.988 for the first fault - outdoor air temp offset 2 degree higher. Similar models could be implemented for the faults to enhance monitoring the operations of three types of AHUs.

## 2. Data Wrangling
The raw dataset of the first fault from PNNL contained 272,1612 rows with 18 columns. The experiments were conducted to mimic the fault scenarios and these data were collected and simulated by PNNL. Although they were cleaned and organized, they needed to check the data types and drop some missing data. For every dataset, there was the date type of data. For this AFDD problem, we donâ€™t need the date and time of the data, so they were dropped from the raw data. There were also some blanks in the column names, which were cleaned in the dataset. 

The histograms of features are dependent variables were plotted for further investigation. The last sub-plot showed that there were 5 times more fault scenarios (230,000 rows) than the normal scenarios in the whole dataset. These provide sufficient train data to establish a robust fault detection model and sufficient test data to validate the accuracy of that model. For other data, we also have more than 3000 rows of data at the fault scenarios, which provide sufficient train and test data for the future investigation.


